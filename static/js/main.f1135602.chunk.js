(this["webpackJsonpecommerce-client"]=this["webpackJsonpecommerce-client"]||[]).push([[0],{111:function(e,t,a){},141:function(e,t,a){},173:function(e,t,a){},202:function(e,t,a){e.exports=a(362)},211:function(e,t,a){},212:function(e,t,a){},345:function(e,t,a){},362:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=a(13),l=a(56),s=a(175),u=a(10),m={isLoggedIn:!1,user:{}};var d=a(34),p={isLoading:!1,products:[],category:"",minPrice:0,maxPrice:0,keyword:""};var E={cart:[],total:0,amount:0},b=Object(l.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(u.a)(Object(u.a)({},e),{},{user:t.user,isLoggedIn:!0})}return e},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_FETCHING_PRODUCTS":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"FETCHING_PRODUCTS_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1});case"SET_PRODUCTS":return Object(u.a)(Object(u.a)({},e),{},{products:t.products});case"START_PRODUCT_UPDATE":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"UPDATE_PRODUCT_SUCCESS":var a=e.products.map((function(e){return e.id===t.payload.id?e=t.payload.data:e}));return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,products:a});case"CREATE_PRODUCT":var n=[].concat(Object(d.a)(e.products),[t.product]);return Object(u.a)(Object(u.a)({},e),{},{products:n});case"SET_CATEGORY":return Object(u.a)(Object(u.a)({},e),{},{category:t.payload.category});case"SET_MIN_PRICE":return Object(u.a)(Object(u.a)({},e),{},{minPrice:t.payload.min_price});case"SET_MAX_PRICE":return Object(u.a)(Object(u.a)({},e),{},{maxPrice:t.payload.max_price});case"SET_KEYWORD":return Object(u.a)(Object(u.a)({},e),{},{keyword:t.payload.keyword});default:return Object(u.a)({},e)}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM_TO_CART":var a=[].concat(Object(d.a)(e.cart),[t.payload]);return Object(u.a)(Object(u.a)({},e),{},{cart:a});case"REMOVE_ITEM":var n=e.cart.filter((function(e){return e.id!==t.payload.id}));return Object(u.a)(Object(u.a)({},e),{},{cart:n});case"INCREASE_ITEM_AMOUNT":var r=e.cart.map((function(e){return e.id===t.payload.id&&(e.quantity>e.amount?e=Object(u.a)(Object(u.a)({},e),{},{amount:e.amount+1}):console.log("unable to add more items")),e}));return Object(u.a)(Object(u.a)({},e),{},{cart:r});case"DECREASE_ITEM_AMOUNT":var c=e.cart.map((function(e){return e.id===t.payload.id&&(e=Object(u.a)(Object(u.a)({},e),{},{amount:e.amount-1})),e}));return Object(u.a)(Object(u.a)({},e),{},{cart:c});case"RESET_CART":return Object(u.a)(Object(u.a)({},e),{},{cart:[]});case"CALCULATE_TOTAL":var o=e.cart.reduce((function(e,t){var a=t.price,n=t.amount,r=a*n;return e.total+=r,e.amount+=n,e}),{total:0,amount:0}),i=o.total,l=o.amount;return i=parseFloat(i.toFixed(2)),Object(u.a)(Object(u.a)({},e),{},{total:i,amount:l});default:return e}}}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,f=Object(l.e)(b,g(Object(l.a)(s.a))),h=(a(211),a(17)),_=a(15),v=(a(212),a(213),a(51)),y=(a(92),a(28)),C=a(18),O=function(e,t,a){var r=Object(n.useState)(e),c=Object(C.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)({}),s=Object(C.a)(l,2),m=s[0],d=s[1],p=Object(n.useState)(!1),E=Object(C.a)(p,2),b=E[0],g=E[1];return Object(n.useEffect)((function(){b&&(0===Object.keys(m).length?(console.log(o),g(!1)):g(!1))}),[m]),{handleSubmit:function(e){e.preventDefault();var n=t(o);d(n),g(!0),a()},handleChange:function(e){i(Object(u.a)(Object(u.a)({},o),{},Object(y.a)({},e.target.name,e.target.value)))},handleBlur:function(){var e=t(o);d(e)},values:o,errors:m,isSubmitting:b}};function S(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required Email",e.password?e.password.length<5&&(t.password="Password must be at least 6 characters"):t.password="Required Password",e.password_confirmation?e.password!==e.password_confirmation&&(t.password_confirmation="Password don't match"):t.password_confirmation="Password confirmation is required",e.first_name?e.first_name<3&&(t.first_name="First name must be at least 3 characters long"):t.first_name="First name is required",e.last_name?e.last_name<3&&(t.last_name="Last name must be at least 3 characters long"):t.last_name="Last name is required",t}var j=a(39),T=a.n(j),N=function(e){return{type:"SET_USER_DATA",user:e}},w=a(401),k=a(397),P=(a(141),{email:"",password:"",password_confirmation:"",first_name:"",last_name:""});var I=Object(i.b)(null,(function(e){return{signUp:function(t,a,n,r,c,o){e(function(e,t,a,n,r,c){return function(o){T.a.post("http://localhost:3001/api/v1/signup",{user:{first_name:e,last_name:t,email:a,password:n,password_confirmation:r}}).then((function(e){return e.data})).then((function(e){console.log(e.data),localStorage.setItem("jwt",e.data.token),o(N(e.data.user)),c.push("/")})).catch((function(e){return console.log(e)}))}}(t,a,n,r,c,o))}}}))(Object(_.f)((function(e){var t=O(P,S,(function(){var t=o.first_name,a=o.last_name,n=o.email,r=o.password,c=o.password_confirmation;e.signUp(t,a,n,r,c,e.history)})),a=t.handleSubmit,n=t.handleChange,c=t.handleBlur,o=t.values,i=t.errors;return t.isSubmitting,r.a.createElement("div",null,r.a.createElement(k.a,{container:!0,spacing:2},r.a.createElement(k.a,{item:!0,xs:9},r.a.createElement("img",{src:"/lalogaribo/ecommerce-client/img/stickerbanner.png",className:"login-img"})),r.a.createElement(k.a,{item:!0,xs:3,style:{margin:"auto"}},r.a.createElement(w.a,{variant:"subtitle1",gutterBottom:!0},r.a.createElement("h2",{className:"header"},"Create account")),r.a.createElement("form",{onSubmit:a},r.a.createElement("input",{type:"text",placeholder:"First name",name:"first_name",value:o.first_name,className:i.first_name&&"error-input",onChange:n,onBlur:c})," ",i.first_name&&r.a.createElement("p",{className:"error-text"},i.first_name),r.a.createElement("input",{type:"text",placeholder:"Last name",name:"last_name",value:o.last_name,className:i.last_name&&"error-input",onChange:n,onBlur:c})," ",i.last_name&&r.a.createElement("p",{className:"error-text"},i.last_name),r.a.createElement("input",{type:"text",placeholder:"Email address",name:"email",value:o.email,className:i.email&&"error-input",onChange:n,onBlur:c})," ",i.email&&r.a.createElement("p",{className:"error-text"},i.email),r.a.createElement("input",{type:"password",placeholder:"Set password",name:"password",className:i.password&&"error-input",value:o.password,onChange:n,onBlur:c})," ",i.password&&r.a.createElement("p",{className:"error-text"},i.password),r.a.createElement("input",{type:"password",placeholder:"Confirm password",name:"password_confirmation",className:i.password_confirmation&&"error-input",value:o.password_confirmation,onChange:n,onBlur:c})," ",r.a.createElement("br",null),i.password_confirmation&&r.a.createElement("p",{className:"error-text"},i.password_confirmation),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",value:"Submit"},"Create account"),r.a.createElement("br",null),"Already have an account? ",r.a.createElement(h.b,{to:"/login"},"Sign in instead"),r.a.createElement("br",null)))))})));function A(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required Email",e.password?e.password.length<5&&(t.password="Password must be at least 6 characters"):t.password="Required Password",e.password_confirmation?e.password!==e.password_confirmation&&(t.password_confirmation="Password don't match"):t.password_confirmation="Password confirmation is required",e.first_name?e.first_name<3&&(t.first_name="First name must be at least 3 characters long"):t.first_name="First name is required",e.last_name?e.last_name<3&&(t.last_name="Last name must be at least 3 characters long"):t.last_name="Last name is required",t}var x={email:"",password:""};var R=Object(i.b)(null,(function(e){return{signIn:function(t,a,n){e(function(e,t,a){return function(n){T.a.post("http://localhost:3001/api/v1/login",{user:{email:e,password:t}}).then((function(e){return e.data})).then((function(e){localStorage.setItem("jwt",e.data.token),n(N(e.data.user)),a.push("/")})).catch((function(e){return console.log(e)}))}}(t,a,n))}}}))(Object(_.f)((function(e){var t=O(x,A,(function(){e.signIn(o.email,o.password,e.history)})),a=t.handleSubmit,n=t.handleChange,c=t.handleBlur,o=t.values,i=t.errors;return t.isSubmitting,r.a.createElement("div",null,r.a.createElement(k.a,{container:!0,spacing:2},r.a.createElement(k.a,{item:!0,xs:9},r.a.createElement("img",{src:"/lalogaribo/ecommerce-client/img/stickerbanner.png",className:"login-img"})),r.a.createElement(k.a,{item:!0,xs:3,style:{margin:"auto"}},r.a.createElement(w.a,{variant:"subtitle1",gutterBottom:!0},r.a.createElement("h1",{className:"header"},"Login")),r.a.createElement("form",{onSubmit:a},r.a.createElement("input",{type:"text",placeholder:"Email address",name:"email",value:o.email,className:i.email&&"error-input",onChange:n,onBlur:c,id:"input"})," ",r.a.createElement("br",null),i.email&&r.a.createElement("p",{className:"error-text"},i.email),r.a.createElement("input",{type:"password",placeholder:"Set password",name:"password",className:i.password&&"error-input",value:o.password,onChange:n,onBlur:c,id:"input"})," ",i.password&&r.a.createElement("p",{className:"error-text"},i.password),r.a.createElement("br",null),"You are new? ",r.a.createElement(h.b,{to:"/signup"},"Create account"),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",value:"Submit"},"Submit")))))}))),D=a(121),B=a(408),U=Object(i.b)((function(e){return{user:e.user,cart:e.cart}}))((function(e){var t,a=e.product,n=a.id,c=a.name,o=a.description,i=a.price,l=a.time_to_make,s=a.image,u=a.user_id,m=e.product,d=e.user,p=e.dispatch;return r.a.createElement("div",{className:"product-card"},r.a.createElement(h.b,{to:{pathname:"/products/".concat(n),state:{product:m}}},r.a.createElement(B.a,{image:s,header:c,meta:"Estimation days: ".concat(l," "),description:o,extra:(t=i,r.a.createElement("a",null,r.a.createElement(D.a,{name:"money"}),t))})),m.user_id===d.user.id&&r.a.createElement(h.b,{to:{pathname:"/users/".concat(d.user.id,"/products/").concat(n),state:{product:m}}},"Edit item"),d.isLoggedIn&&d.user.id!==u&&r.a.createElement("button",{onClick:function(){p({type:"ADD_ITEM_TO_CART",payload:m})}},"Add cart"))}));a(345);var q=Object(i.b)((function(e){return{user:e.user}}))((function(e){var t=e.user;return r.a.createElement("div",null,r.a.createElement("h2",null,"Home page"),t.isLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Welcome Back ",t.user.first_name),r.a.createElement("h3",null,"Current listing products"),r.a.createElement("hr",null),r.a.createElement("div",{className:"product-container"},t.user.products.map((function(e){return r.a.createElement(U,{key:e.id,product:e,user:t})})))):r.a.createElement("h1",null,"Sign in to see your profile"))})),L=a(50),F=a(35),M=a(64),H=a(189),G=a(411),W=a(410),Y=a(185),Z=a.n(Y),z=function(e){Object(M.a)(a,e);var t=Object(H.a)(a);function a(){var e;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={activeItem:"home"},e.handleItemClick=function(t,a){var n=a.name;return e.setState({activeItem:n})},e}return Object(F.a)(a,[{key:"render",value:function(){console.log(this.props.cart);var e=this.props.history,t=this.state.activeItem;return r.a.createElement(G.a,{inverted:!0},r.a.createElement(W.a,{inverted:!0,pointing:!0,secondary:!0},r.a.createElement(h.b,{to:"/"},r.a.createElement(W.a.Item,{name:"home",active:"home"===t,onClick:this.handleItemClick})),r.a.createElement(h.b,{to:"/products"},r.a.createElement(W.a.Item,{name:"products",active:"products"===t,onClick:this.handleItemClick})),r.a.createElement(h.b,{to:"/about-us"},r.a.createElement(W.a.Item,{name:"about us",active:"about us"===t,onClick:this.handleItemClick})),this.props.user.isLoggedIn&&this.props.user.user.is_admin&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.b,{to:"/new-product"},r.a.createElement(W.a.Item,{name:"Create product",active:"create product"===t,onClick:this.handleItemClick}))),this.props.cart.length>0&&r.a.createElement(h.b,{to:"/cart"},r.a.createElement(Z.a,{style:{fontSize:30}})),localStorage.getItem("jwt")?r.a.createElement(h.b,null,r.a.createElement(W.a.Item,{name:"Logout",active:"logout"===t,onClick:function(){localStorage.removeItem("jwt"),e.push("/login")}})):r.a.createElement(h.b,{to:"/login"},r.a.createElement(W.a.Item,{name:"sign in",active:"sign in"===t,onClick:this.handleItemClick}))))}}]),a}(n.Component);var $=Object(i.b)((function(e){return{user:e.user,cart:e.cart.cart}}))(Object(_.f)(z)),K={errorToast:function(e){v.b.error(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},successToast:function(e){v.b.success(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},Q="http://localhost:3001/api/v1",V={"Content-Type":"application/json",Accept:"application/json"},X=function(e){return{type:"SET_PRODUCTS",products:e}},J=(a(86),a(405)),ee=a(402),te=Object(ee.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));var ae=Object(i.b)(null,(function(e){return{getProductsByMinPrice:function(t){e(function(e){return function(t){t({type:"START_FETCHING_PRODUCTS"}),T.a.get("".concat(Q,"/products/?min_price=").concat(e),{headers:V}).then((function(a){t(function(e){return{type:"SET_MIN_PRICE",payload:{min_price:e}}}(e)),t(X(a.data)),t({type:"FETCHING_PRODUCTS_SUCCESS"})})).catch((function(e){return console.log(e)}))}}(t))},getProductsByMaxPrice:function(t){e(function(e){return function(t){t({type:"START_FETCHING_PRODUCTS"}),T.a.get("".concat(Q,"/products/?max_price=").concat(e),{headers:V}).then((function(a){t(function(e){return{type:"SET_MAX_PRICE",payload:{max_price:e}}}(e)),t(X(a.data)),t({type:"FETCHING_PRODUCTS_SUCCESS"})})).catch((function(e){return console.log(e)}))}}(t))},getProductsByKeyword:function(t){e(function(e){return function(t){t({type:"START_FETCHING_PRODUCTS"}),T.a.get("".concat(Q,"/products/?keyword=").concat(e),{headers:V}).then((function(a){t(function(e){return{type:"SET_KEYWORD",payload:{keyword:e}}}(e)),t(X(a.data)),t({type:"FETCHING_PRODUCTS_SUCCESS"})})).catch((function(e){return console.log(e)}))}}(t))}}}))((function(e){var t=e.getProductsByMaxPrice,a=e.getProductsByMinPrice,c=e.getProductsByKeyword,o=Object(n.useState)(0),i=Object(C.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(0),m=Object(C.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(""),b=Object(C.a)(E,2),g=b[0],f=b[1],h=te();return r.a.createElement("div",null,r.a.createElement("h4",null,"Filter by"),r.a.createElement("form",{className:h.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),c(g)}},r.a.createElement(J.a,{id:"standard-basic",label:"keyword",name:"keyword",onChange:function(e){f(e.target.value)}})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(l)},className:h.root,autoComplete:"off"},r.a.createElement(J.a,{id:"standard-basic",label:"min-price",name:"min_price",onChange:function(e){s(e.target.value)}})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(d)},className:h.root,autoComplete:"off"},r.a.createElement(J.a,{id:"standard-basic",label:"max-price",name:"max_price",onChange:function(e){p(e.target.value)}})))})),ne=Object(i.b)((function(e){return{user:e.user.user,isLogged:e.user.isLoggedIn}}),(function(e){return{getProductsByCategory:function(t){e(function(e){return function(t){t({type:"START_FETCHING_PRODUCTS"}),T.a.get("".concat(Q,"/products/?type=").concat(e),{headers:V}).then((function(a){t(function(e){return{type:"SET_CATEGORY",payload:{category:e}}}(e)),t(X(a.data)),t({type:"FETCHING_PRODUCTS_SUCCESS"})})).catch((function(e){return console.log(e)}))}}(t))}}}))((function(e){var t=e.getProductsByCategory,a=e.user,c=e.isLogged,o=Object(n.useState)(""),i=Object(C.a)(o,2),l=i[0],s=i[1];Object(n.useEffect)((function(){t(l)}),[l]);var u=function(e){s(e.target.name)};return r.a.createElement("div",{className:"sidebar"},r.a.createElement("button",{className:"sidebar-option",name:"Stickers",onClick:u},"Stickers"),r.a.createElement("button",{className:"sidebar-option",name:"Shirts",onClick:u},"Shirts"),r.a.createElement("button",{className:"sidebar-option",name:"Dress",onClick:u},"Dress"),r.a.createElement("button",{className:"sidebar-option",name:"Buttons",onClick:u},"Buttons"),r.a.createElement("button",{className:"sidebar-option",name:"Posters/Prints",onClick:u},"Posters/Prints"),r.a.createElement("button",{className:"sidebar-option",name:"Custome_others",onClick:u},"Custome others"),r.a.createElement("button",{className:"sidebar-option",name:"Pants",onClick:u},"Pants"),r.a.createElement("button",{className:"sidebar-option",name:"Outfit_dolls",onClick:u},"Outfit dolls"),r.a.createElement("button",{className:"sidebar-option",name:"Hair_bows",onClick:u},"Hair bows"),r.a.createElement("button",{className:"sidebar-option",name:"Pins",onClick:u},"Pins"),c&&a.is_admin&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement(h.b,{to:"/new-product"},r.a.createElement("button",{className:"sidebar-option"},"Create product"))),r.a.createElement("hr",null),r.a.createElement(ae,null))})),re=a(404),ce=function(){return r.a.createElement(re.a,{active:!0,inline:"centered",size:"huge"})};a(111);var oe=Object(i.b)((function(e){return{user:e.user,productsStore:e.products}}),(function(e){return{getAllProducts:function(){e((function(e){e({type:"START_FETCHING_PRODUCTS"}),T.a.get("".concat(Q,"/products"),{headers:V}).then((function(t){e(X(t.data)),e({type:"FETCHING_PRODUCTS_SUCCESS"})})).catch((function(e){return console.log(e)}))}))}}}))((function(e){var t=e.user,a=e.getAllProducts,c=e.productsStore,o=Object(n.useState)(!1),i=Object(C.a)(o,2),l=i[0],s=i[1],u=c.products,m=c.isLoading;return console.log(c),Object(n.useEffect)((function(){0===c.products.length&&(s(!0),a(),s(!1))}),[l]),r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"sidebar"},r.a.createElement(ne,null)),r.a.createElement("div",{className:"card-items"},m?r.a.createElement(ce,null):r.a.createElement(n.Fragment,null,u.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{key:e.id,product:e,user:t}))})),0===c.products.length&&r.a.createElement("h1",null,"No items were found"))))})),ie=a(407);function le(e){var t=e.product;return r.a.createElement("div",null,r.a.createElement(h.b,{to:{pathname:"/users/".concat(t.user_id,"/products/").concat(t.id),state:{product:t}}},"Edit item"),r.a.createElement("button",null,"Delete product"))}var se=Object(i.b)((function(e){return{user:e.user,cart:e.cart}}))((function(e){var t=e.user.isLoggedIn,a=e.location.state.product,n=a.name,c=a.description,o=a.price,i=a.image,l=a.quantity;a.id,a.user_id;return r.a.createElement("div",{className:"product-detail-container"},r.a.createElement(ie.a.Group,null,r.a.createElement(ie.a,null,r.a.createElement(ie.a.Image,{size:"large",src:i}),r.a.createElement(ie.a.Content,null,r.a.createElement(ie.a.Header,{as:"a"},n),r.a.createElement(ie.a.Meta,null,c),r.a.createElement(ie.a.Description,null,c),r.a.createElement(ie.a.Extra,null,"$",o),r.a.createElement(ie.a.Extra,null,l," in stock")))),e.user.isLoggedIn&&e.user.user.is_admin&&e.user.user.id===e.location.state.product.user_id&&r.a.createElement(le,{product:e.location.state.product}),t&&r.a.createElement("button",{onClick:function(){e.dispatch({type:"ADD_ITEM_TO_CART",payload:e.location.state.product})}},"Add cart"),e.cart.cart.length>0&&r.a.createElement(h.b,{to:"/cart"},"My cart"))}));function ue(e){var t={};return e.name?e.name.length<5&&(t.name="Name should be at least 5 characters long"):t.name="Product name is required",e.description?e.description.length<5&&(t.description="description should be at least 5 characters long"):t.description="Description is required",e.quantity?e.quantity<0&&(t.quantity="Quantity should be at least 1"):t.quantity="Quantity is required",e.price?e.price<0&&(t.price="Price should be at least 1"):t.price="Price is required",e.time_to_make?e.time_to_make<0&&(t.time_to_make="Creation time should be at least 1 day"):t.time_to_make="Creation time is required",e.image||(t.image="Image is required"),t}var me={"Content-Type":"application/json",Accept:"application/json"},de={getTypes:function(){return fetch("".concat("http://localhost:3001/api/v1","/types"),{method:"GET",headers:me}).then((function(e){return e.json()}))}};var pe=Object(i.b)(null)((function(){return r.a.createElement("div",null,r.a.createElement(h.b,{to:"/"},r.a.createElement("button",{className:"sidebar-option"},"Go to my listings")),r.a.createElement(h.b,{to:"/new-product"},r.a.createElement("button",{className:"sidebar-option"},"Create product")),r.a.createElement("button",{className:"sidebar-option"},"Categories"),r.a.createElement("button",{className:"sidebar-option"},"Coupons"))})),Ee={name:"",quantity:"",price:"",time_to_make:"",description:"",image:""};var be=Object(i.b)((function(e){return{user:e.user}}),(function(e){return{newProduct:function(t,a,n,r,c,o,i,l,s){e(function(e,t,a,n,r,c,o,i,l){return function(s){T()("".concat(Q,"/users/").concat(l,"/products"),{method:"POST",headers:i,data:{product:{name:e,description:t,price:a,quantity:n,time_to_make:r,image:c,type_id:o}}}).then((function(e){201===e.status?(K.successToast("\u2705 Product Created successfully"),s(function(e){return{type:"CREATE_PRODUCT",product:e}}(e.data.product))):K.errorToast("\ud83d\uded1 An error occur")})).catch((function(e){K.errorToast("\ud83d\uded1 An error occur"),console.log(e)}))}}(t,a,n,r,c,o,i,l,s))}}}))((function(e){var t=e.newProduct,a=e.user,c={"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("jwt")},o=Object(n.useState)(""),i=Object(C.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(""),m=Object(C.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)([]),b=Object(C.a)(E,2),g=b[0],f=b[1];Object(n.useEffect)((function(){de.getTypes().then((function(e){f(e.data)}))}),[]);var h=O(Ee,ue,(function(){var e=S.name,n=S.quantity,r=S.price,o=S.time_to_make,i=S.description,l=S.image;t(e,i,r,n,o,l,d,c,a.user.id)})),_=h.handleSubmit,v=h.handleChange,y=h.handleBlur,S=h.values,j=h.errors;return h.isSubmitting,r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"sidebar"},r.a.createElement(pe,null)),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:_,id:"form-container"},r.a.createElement("input",{type:"text",placeholder:"Product name",name:"name",value:S.name,className:j.name&&"error-input",onChange:v,onBlur:y,id:"inputs"})," ",r.a.createElement("br",null),j.name&&r.a.createElement("p",{className:"error-text"},j.name),r.a.createElement("textarea",{type:"text",placeholder:"Description...",name:"description",value:S.description,className:j.description&&"error-input",onChange:v,onBlur:y,rows:"4",cols:"50"})," ",r.a.createElement("br",null),j.description&&r.a.createElement("p",{className:"error-text"},j.description),r.a.createElement("div",{className:"options"},r.a.createElement("input",{type:"text",placeholder:"Quantity...",name:"quantity",value:S.quantity,className:j.quantity&&"error-input",onChange:v,onBlur:y})," ",r.a.createElement("br",null),j.quantity&&r.a.createElement("p",{className:"error-text"},j.quantity),r.a.createElement("input",{type:"text",placeholder:"Time to make...",name:"time_to_make",value:S.time_to_make,className:j.time_to_make&&"error-input",onChange:v,onBlur:y})," ",r.a.createElement("br",null),j.time_to_make&&r.a.createElement("p",{className:"error-text"},j.time_to_make)," ",r.a.createElement("br",null)),r.a.createElement("div",{className:"options"},r.a.createElement("input",{type:"text",placeholder:"Set price",name:"price",value:S.price,className:j.price&&"error-input",onChange:v,onBlur:y})," ",r.a.createElement("br",null),j.price&&r.a.createElement("p",{className:"error-text"},j.price),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Image...",name:"image",value:S.image,className:j.image&&"error-input",onChange:v,onBlur:y})," "),g.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{value:l,onChange:function(e){var t=g.find((function(t){return t.name===e.target.value}));p(t.id),s(e.target.value)},className:"ui selection dropdown"},g.map((function(e){return r.a.createElement("option",{value:e.name},e.name)})))),r.a.createElement("br",null),j.image&&r.a.createElement("p",{className:"error-text"},j.image),r.a.createElement("button",{type:"submit",class:"button"},"Create product"))))}));var ge=Object(i.b)((function(e){return{products:e.product}}),(function(e){return{updateProduct:function(t,a,n,r,c,o,i,l,s,u,m){e(function(e,t,a,n,r,c,o,i,l,s,u){return function(m){m({type:"START_PRODUCT_UPDATE"}),T()("".concat(Q,"/users/").concat(i,"/products/").concat(l),{method:"PATCH",headers:s,data:{product:{name:e,description:t,price:a,quantity:n,time_to_make:r,image:c,type_id:o}}}).then((function(e){var t,a;200===e.status?(m((t=l,a=e.data,{type:"UPDATE_PRODUCT_SUCCESS",payload:{id:t,data:a}})),K.successToast("\u2705 Product updated successfully"),u.push({pathname:"/products/".concat(l),state:{product:e.data}})):K.errorToast("\ud83d\uded1 An error occur, chek your data")})).catch((function(e){return console.log(e)}))}}(t,a,n,r,c,o,i,l,s,u,m))}}}))(Object(_.f)((function(e){var t=e.updateProduct,a=e.history,c=e.location,o={"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("jwt")},i=c.state.product,l=i.name,s=i.quantity,u=i.price,m=i.time_to_make,d=i.description,p=i.image,E=i.user_id,b=i.id,g={name:l,quantity:s,price:u,time_to_make:m,description:d,image:p},f=Object(n.useState)(""),h=Object(C.a)(f,2),_=h[0],v=h[1],y=Object(n.useState)(""),S=Object(C.a)(y,2),j=S[0],T=S[1],N=Object(n.useState)([]),w=Object(C.a)(N,2),k=w[0],P=w[1];Object(n.useEffect)((function(){de.getTypes().then((function(e){P(e.data)}))}),[]);var I=O(g,ue,(function(){var e=D.name,n=D.quantity,r=D.price,c=D.time_to_make,i=D.description,l=D.image;t(e,i,r,n,c,l,j,E,b,o,a)})),A=I.handleSubmit,x=I.handleChange,R=I.handleBlur,D=I.values,B=I.errors;return I.isSubmitting,r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"sidebar"},r.a.createElement(pe,null)),r.a.createElement("h2",null,"Product form"),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:A,id:"form-container"},r.a.createElement("input",{type:"text",placeholder:"Product name",name:"name",value:D.name,className:B.name&&"error-input",onChange:x,onBlur:R,id:"inputs"})," ",r.a.createElement("br",null),B.name&&r.a.createElement("p",{className:"error-text"},B.name),r.a.createElement("textarea",{type:"text",placeholder:"Description...",name:"description",value:D.description,className:B.description&&"error-input",onChange:x,onBlur:R,rows:"4",cols:"50"})," ",r.a.createElement("br",null),B.description&&r.a.createElement("p",{className:"error-text"},B.description),r.a.createElement("div",{className:"options"},r.a.createElement("input",{type:"text",placeholder:"Quantity...",name:"quantity",value:D.quantity,className:B.quantity&&"error-input",onChange:x,onBlur:R})," ",r.a.createElement("br",null),B.quantity&&r.a.createElement("p",{className:"error-text"},B.quantity),r.a.createElement("input",{type:"text",placeholder:"Time to make...",name:"time_to_make",value:D.time_to_make,className:B.time_to_make&&"error-input",onChange:x,onBlur:R})," ",r.a.createElement("br",null),B.time_to_make&&r.a.createElement("p",{className:"error-text"},B.time_to_make)),r.a.createElement("div",{className:"options"},r.a.createElement("input",{type:"text",placeholder:"Set price",name:"price",value:D.price,className:B.price&&"error-input",onChange:x,onBlur:R})," ",r.a.createElement("br",null),B.price&&r.a.createElement("p",{className:"error-text"},B.price),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Image...",name:"image",value:D.image,className:B.image&&"error-input",onChange:x,onBlur:R})," ",r.a.createElement("br",null),B.image&&r.a.createElement("p",{className:"error-text"},B.image)),k.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{value:_,onChange:function(e){var t=k.find((function(t){return t.name===e.target.value}));T(t.id),v(e.target.value)},className:"ui selection dropdown"},k.map((function(e){return r.a.createElement("option",{value:e.name},e.name)}))))," ",r.a.createElement("br",null),r.a.createElement("button",{type:"submit",class:"button"},"Submit"))))})));function fe(){return r.a.createElement("div",null,r.a.createElement("h2",null,"About us"))}a(173);var he=a(403),_e=a(409),ve=a(187),ye=a.n(ve),Ce=a(188),Oe=a.n(Ce),Se=Object(ee.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),margin:"auto",maxWidth:800},image:{width:400,height:400},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}})),je=Object(i.b)(null,(function(e,t){var a=t.cartItem.id;return{removeItem:function(){return e({type:"REMOVE_ITEM",payload:{id:a}})},increaseAmount:function(){return e({type:"INCREASE_ITEM_AMOUNT",payload:{id:a}})},decreaseAmount:function(){return e({type:"DECREASE_ITEM_AMOUNT",payload:{id:a}})}}}))((function(e){var t=e.cartItem,a=e.removeItem,n=e.increaseAmount,c=e.decreaseAmount,o=Se(),i=t.name,l=t.description,s=t.price,u=t.quantity,m=t.image,d=t.amount;return r.a.createElement("div",null,r.a.createElement("div",{className:o.root},r.a.createElement(he.a,{className:o.paper},r.a.createElement(k.a,{container:!0,spacing:2},r.a.createElement(k.a,{item:!0},r.a.createElement(_e.a,{className:o.image},r.a.createElement("img",{className:o.img,alt:"complex",src:m}))),r.a.createElement(k.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(k.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(w.a,{gutterBottom:!0,variant:"subtitle1"},i),r.a.createElement(w.a,{variant:"body2",gutterBottom:!0},l),r.a.createElement(w.a,{variant:"body2",color:"textSecondary"},"In stock: ",u)),r.a.createElement(k.a,{item:!0},r.a.createElement(ye.a,{onClick:function(){return n()}})),d,r.a.createElement(k.a,{item:!0},r.a.createElement(Oe.a,{onClick:function(){1===d?a():c()}})),r.a.createElement(k.a,{item:!0},r.a.createElement(w.a,{variant:"body2",style:{cursor:"pointer"}},r.a.createElement("span",{onClick:function(){return a()}},"Remove Item")))),r.a.createElement(k.a,{item:!0},r.a.createElement(w.a,{variant:"subtitle1"},"$",s)))))))})),Te=Object(i.b)((function(e){var t=e.cart;return{cart:t.cart,total:t.total}}))((function(e){var t=e.cart,a=void 0===t?[]:t,c=e.total,o=e.dispatch;Object(n.useEffect)((function(){o({type:"CALCULATE_TOTAL"})}),[a,o]);return r.a.createElement("div",{className:"cart-container"},r.a.createElement("h1",null,"My Cart"),0===a.length?r.a.createElement("h1",null,"Cart is empty"):a.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,{key:e.name,cartItem:e})," ",r.a.createElement("hr",{className:"line"})," ")})),r.a.createElement("hr",{className:"line"}),a.length>0&&r.a.createElement("h3",{className:"total"},"Your total is ",c),a.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return o({type:"RESET_CART"})}},"Clear Cart"),r.a.createElement("button",null,"Checkout")))}));function Ne(){return r.a.createElement("div",null,r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"logo"}),r.a.createElement("div",{className:"copryght"})))}function we(){return r.a.createElement("div",{className:"not-found-image"},r.a.createElement("img",{src:"/lalogaribo/ecommerce-client/img/404_Error.jpg"}))}var ke=function(){return r.a.createElement(h.a,null,r.a.createElement($,null),r.a.createElement("div",{className:"App"},r.a.createElement(v.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(v.a,null),r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/",exact:!0,component:q}),r.a.createElement(_.a,{path:"/signup",component:I}),r.a.createElement(_.a,{path:"/login",component:R}),r.a.createElement(_.a,{path:"/products",exact:!0,component:oe}),r.a.createElement(_.a,{path:"/products/:id",exact:!0,component:se}),r.a.createElement(_.a,{path:"/users/:user_id/products/:id",component:ge}),r.a.createElement(_.a,{path:"/new-product",component:be}),r.a.createElement(_.a,{path:"/about-us",component:fe}),r.a.createElement(_.a,{path:"/cart",component:Te}),r.a.createElement(_.a,{component:we}))),r.a.createElement(Ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:f},r.a.createElement(ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,a){}},[[202,1,2]]]);
//# sourceMappingURL=main.f1135602.chunk.js.map